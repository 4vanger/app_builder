<!DOCTYPE HTML>
<html>
    <head>
    	<title>App builder</title>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js"></script>
		<script type="text/javascript" src="3rd/jquery.tmpl.min.js"></script>
		<script type="text/javascript" src="3rd/underscore-min.js"></script>
	    <script type="text/javascript" src="3rd/zeroclipboard/ZeroClipboard.js"></script>
		<script type="text/javascript" src="src/utils.js"></script>
		<link rel="stylesheet" href="3rd/overcast/jquery-ui-1.8.9.custom.css">
		<link rel="stylesheet" href="styles.css">
	</head>
	<body>
		<div id="loading">Loading...</div>

		<script id="mainTemplate" type="text/x-jquery-tmpl">
<div class="library ui-widget-header">
	<ul>
		<li><div class="libControl" data-libType="Label">Label</div></li>
		<li><div class="libControl" data-libType="TextField">Text field</div></li>
		<li><div class="libControl" data-libType="TextArea">Text area</div></li>
		<li><div class="libControl" data-libType="Switch">Switch</div></li>
		<li><div class="libControl" data-libType="Button">Button</div></li>
		<li><div class="libControl" data-libType="SearchBar">Search bar</div></li>
	</ul>
	<button id="generate">Generate</button>
</div>
<div id="propertiesContainer" class="properties ui-widget-content">
</div>
		</script>
		<script id="propertiesTemplate" type="text/x-jquery-tmpl">
			<div>
				<button id="highlightActive">Highlight</button>
				<button id="removeActive">Remove</button>
				<ul class="propertiesList ui-widget">
				{{tmpl({properties: properties, events: events, libData: libData}) 'propertiesList'}}
				{{each interfaces}}
					<li>
						<h3 class="interfaceName ui-widget-header ui-state-default">${$value}</h3>
						<ul class="interfaceList">
							{{if $value == 'DOMView'}}
								{{tmpl({properties: {
									layout: 'layout'
								}, events: [], libData: libData}) 'propertiesList'}}
							{{else $value == 'Touchable'}}
								{{tmpl({properties: {
									touchEnabled: 'bool'
								}, events: ['touchstart', 'twofingertap', 'touchmove', 'touchend', 'swipe', 'touchcancel', 'singletap', 'doubletap'], libData: libData}) 'propertiesList'}}
							{{else $value == 'Clickable'}}
								{{tmpl({properties: {}, events: ['click', 'dblclick'], libData: libData}) 'propertiesList'}}
							{{else $value == 'Styleable'}}
								{{tmpl({properties: {
									backgroundColor: 'color',
									focusable: 'bool',
									backgroundImage: 'file',
									backgroundSelectedColor: 'color',
									backgroundSelectedImage: 'file',
									backgroundFocusedColor: 'color',
									backgroundFocusedImage: 'color',
									borderWidth: 'int',
									borderColor: 'color',
									borderRadius: 'int',
									fontVariant: 'text',
									fontStyle: 'text',
									fontWeight: 'text',
									fontSize: 'fontSize',
									fontFamily: 'fontFamily',
									opacity: 'opacity',
									zIndex: 'int',
									backgroundGradient: 'backgroundGradient',
									visible: 'bool',
									color: 'color'
								}, events: [], libData: libData}) 'propertiesList'}}
							{{else $value == 'Positionable'}}
								{{tmpl({properties: {
									top: 'int',
									bottom: 'int',
									left: 'int',
									right: 'int',
									width: 'int',
									height: 'int'
								}, events: [], libData: libData}) 'propertiesList'}}
							{{else $value == 'Interactable'}}
								{{tmpl({properties: {
								}, events: ['focus', 'blur', 'change', 'return'], libData: libData}) 'propertiesList'}}
							{{/if}}
						</ul>
					</li>
				{{/each}}
				</ul>
			</div>
		</script>
		<script id='propertiesListTemplate' type='text/x-jquery-tmpl'>
			{{each properties}}
				{{tmpl({propertyName: $index, propertyType: $value, propertyValue: libData.control[$index]}) 'property'}}
			{{/each}}
			{{each events}}
				{{tmpl({eventName: $value, eventValue: libData.events[$value]}) 'event'}}
			{{/each}}
		</script>
		<script id="propertyTemplate" type="text/x-jquery-tmpl">
			<li>
				<div class="propertyName">${propertyName}</div>
				<span class="propertyValue">
					{{if propertyType == 'bool'}}
						<input type="checkbox" name="${propertyName}" ${propertyValue == true ? 'checked="checked"' : ''} />
					{{else}}
						<input type="text" name="${propertyName}" value="${propertyValue}" />
					{{/if}}
				</span>
			</li>
		</script>
		<script id="eventTemplate" type="text/x-jquery-tmpl">
			<li>
				<div class="eventName">${eventName}</div>
				<span class="propertyValue">
					<textarea name="${eventNameName}">{{html eventValue}}</textarea>
				</span>
			</li>
		</script>
		<script id="generatorTemplate" type="text/x-jquery-tmpl">
			<div>
				<button id="copyGenerator">Copy</button>
				<textarea id="generator"></textarea>
			</div>
		</script>
		<script id="messageTemplate" type="text/x-jquery-tmpl">
			<div class="message ${className} ui-corner-all">
				<div class="closeButton ui-icon ui-icon-close"></div>
				<div class="messageText">
					{{if icon}}
						<span class="ui-icon ${icon}"></span>
					{{/if}}
					${message}
				</div>
			</div>
		</script>

		<script type="text/javascript" src="titanium.js"></script>
		<script type="text/javascript" src="src/controls.js"></script>
		<script type="text/javascript" src="src/core.js"></script>
	</body>
</html>
